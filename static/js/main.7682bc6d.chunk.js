(this["webpackJsonpshoping-cart"]=this["webpackJsonpshoping-cart"]||[]).push([[0],{134:function(e,t,a){e.exports=a.p+"static/media/cart-outline.76237921.svg"},157:function(e,t,a){e.exports=a(301)},162:function(e,t,a){},163:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),o=(a(162),a(163),a(164),a(134)),i=a.n(o),u=a(18),s=a(37),m=a(308),E=a(314),d=a(315);var p=function(){var e=Object(u.c)((function(e){return e.cart.cart}));return r.a.createElement("div",{className:"header"},r.a.createElement(E.a,{clearing:!0},r.a.createElement(d.a,{as:"h2",floated:"left",color:"red"},r.a.createElement(s.b,{to:"/"},"BookStore")),r.a.createElement(d.a,{as:"h2",floated:"right"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/About"},"About")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/Cart"},"Cart")),r.a.createElement("img",{src:i.a,alt:"cartimg",className:"cart_img"}),r.a.createElement(m.a,{variant:"light"},e.length))))))},b=a(20),h=a(99),f=a.n(h),v=a(142),g={books:[],isFetched:!1},O={cart:[]};var j=a(312),y=a(146),k=a(38),_=a(302);var T=function(e){var t=e.author,a=e.image,n=e.price,c=e.rating,l=e.title,o=Object(u.b)();return r.a.createElement(j.a,null,r.a.createElement("div",{className:"card-image"},r.a.createElement(y.a,{src:a})),r.a.createElement(j.a.Content,null,r.a.createElement(j.a.Header,null,l),r.a.createElement(j.a.Meta,null,r.a.createElement("span",{className:"date"},t))),r.a.createElement(j.a.Content,{extra:!0},r.a.createElement("a",null,r.a.createElement(k.a,{name:"rub"}),n)),r.a.createElement(_.a,{onClick:function(e){e.preventDefault();var r={id:Date.now().toString(),title:l,author:t,image:a,price:n,rating:c};o({type:"ADD_IN_TO_CART",payload:r})},color:"green"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"))},N=function(){return r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))};var w=function(){var e=Object(u.c)((function(e){return e.books.books})),t=Object(u.c)((function(e){return e.books.isFetched})),a=Object(u.b)();return Object(n.useEffect)((function(){e.length||a(function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/books");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,t({type:"SET_BOOKS",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.a.createElement(j.a.Group,{itemsPerRow:5},t?e.map((function(e){return r.a.createElement(T,{title:e.title,key:e.id,author:e.author,image:e.image,price:e.price,rating:e.rating})})):r.a.createElement(N,null))},C=function(){var e=Object(u.c)((function(e){return e.cart.cart})),t=(Object(u.c)((function(e){return e.cart.totalPrice})),Object(u.b)()),a=e.reduce((function(e,t){return e+t.price}),0);return Object(n.useEffect)((function(){t(function(e){return{type:"SET_TOTAL_PRICE",payload:e}}(e))}),[]),r.a.createElement("div",{className:"books_container"},e.length?e.map((function(e){return r.a.createElement("div",{className:"product",key:e.id},r.a.createElement(y.a,{src:e.image,alt:"book-image",size:"tiny",verticalAlign:"top"}),r.a.createElement("span",{className:"sm-hide"},r.a.createElement("strong",null,e.author)),r.a.createElement("span",{className:"sm-hide"},e.title),r.a.createElement("span",{className:"sm-hide"},"Rating:",e.rating),r.a.createElement("span",null,r.a.createElement(k.a,{name:"rub"}),e.price),r.a.createElement("div",{className:"price sm-hide"},r.a.createElement(_.a,{size:"mini",color:"red",onClick:function(){return t({type:"DELETE_FROM_CART",payload:e.id})}},"\xd7")))})):r.a.createElement("div",{className:"empty_cart"},r.a.createElement("h1",null,"Cart is Empty")),e.length?r.a.createElement("div",{className:"total"},r.a.createElement("h3",null,"Total price: ",e.length?a:"0"," ",r.a.createElement(k.a,{name:"rub"}))):"")},R=(a(313),a(309),a(15)),A=a(310);var S=function(){return r.a.createElement(A.a,{fluid:!0,className:"App"},r.a.createElement(s.a,null,r.a.createElement(p,null),r.a.createElement(R.c,null,r.a.createElement(R.a,{exact:!0,path:"/",component:w}),r.a.createElement(R.a,{path:"/cart",component:C}))))};a(300),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(36),x=a(144),F=a(145),I=Object(D.combineReducers)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_IN_TO_CART":return Object(b.a)(Object(b.a)({},e),{},{cart:e.cart.concat([t.payload])});case"DELETE_FROM_CART":return Object(b.a)(Object(b.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!=t.payload}))});case"SET_TOTAL_PRICE":return Object(b.a)({},e);default:return e}},books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(b.a)(Object(b.a)({},e),{},{books:e.books.concat(t.payload),isFetched:!0});case"SET_FILTER_LOWER":return Object(b.a)(Object(b.a)({},e),{},{books:t.payload.sort((function(e,t){return e.price-t.price}))});default:return e}}}),L=Object(D.createStore)(I,Object(x.composeWithDevTools)(Object(D.applyMiddleware)(F.a)));l.a.render(r.a.createElement(u.a,{store:L},r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[157,1,2]]]);
//# sourceMappingURL=main.7682bc6d.chunk.js.map